### Configuration
@baseUrl = http://localhost:8000
@fnPrefix = /fn/pharma

### Drug Variables
# UUIDs for Drugs
@paracetamolId = 550e8400-e29b-41d4-a716-446655440001
@omeprazolId = 550e8400-e29b-41d4-a716-446655440002
@ibuprofenId = 550e8400-e29b-41d4-a716-446655440003
@amoxicillinId = 550e8400-e29b-41d4-a716-446655440004

# Drug Names
@paracetamolName = Paracetamol
@omeprazolName = Omeprazol
@ibuprofenName = Ibuprofen
@amoxicillinName = Amoxicillin

### Form Variables
@tabletFormId = 770e8400-e29b-41d4-a716-446655440001
@capsuleFormId = 770e8400-e29b-41d4-a716-446655440002
@syrupFormId = 770e8400-e29b-41d4-a716-446655440003
@suspensionFormId = 770e8400-e29b-41d4-a716-446655440004

### Pharma Variables
@paracetamolTabletId = 660e8400-e29b-41d4-a716-446655440001
@paracetamolSyrupId = 660e8400-e29b-41d4-a716-446655440002
@omeprazolCapsuleId = 660e8400-e29b-41d4-a716-446655440003

### Pathology Variables
@feverPathologyId = 880e8400-e29b-41d4-a716-446655440001
@painPathologyId = 880e8400-e29b-41d4-a716-446655440002
@acidRefluxPathologyId = 880e8400-e29b-41d4-a716-446655440003

### Test 1: Create Paracetamol (Basic Drug)
# @name createParacetamol
POST {{baseUrl}}{{fnPrefix}}/drug?p_id={{paracetamolId}}&p_name={{paracetamolName}}&p_type=Generic&p_nature=Allopathic&p_commercialization=I

### Verify Paracetamol Creation Response
@paracetamolResponse = {{createParacetamol.response.body.$.result}}

### Test 2: Create Omeprazol
# @name createOmeprazol
POST {{baseUrl}}{{fnPrefix}}/create_drug?p_id={{omeprazolId}}&p_name={{omeprazolName}}&p_type=Patent&p_nature=Allopathic&p_commercialization=II

### Wait a bit for database consistency
@wait = 1000

### Test 3: Create Paracetamol Tablet Form
# @name createParacetamolTablet
POST {{baseUrl}}{{fnPrefix}}/create_pharmaceutical?p_id={{paracetamolTabletId}}&p_drug_id={{paracetamolId}}&p_form_id={{tabletFormId}}&p_concentration=500mg

### Test 4: Create Paracetamol Syrup Form
POST {{baseUrl}}{{fnPrefix}}/create_pharmaceutical?p_id={{paracetamolSyrupId}}&p_drug_id={{paracetamolId}}&p_form_id={{syrupFormId}}&p_concentration=120mg/5ml

### Test 5: Link Paracetamol with Pathologies
POST {{baseUrl}}{{fnPrefix}}/link_drug_pathologies?p_drug_id={{paracetamolId}}&p_pathology_ids={{{feverPathologyId}},{{painPathologyId}}}

### Test 6: Create Drug with Variations (Ibuprofen)
POST {{baseUrl}}{{fnPrefix}}/create_drug_with_variations?p_name={{ibuprofenName}}&p_type=Generic&p_nature=Allopathic&p_commercialization=I&p_variations=[{"form_name":"Tablet","concentration":"200mg"},{"form_name":"Tablet","concentration":"400mg"},{"form_name":"Syrup","concentration":"100mg/5ml"}]

### Test 7: Create Complete Drug (Amoxicillin)
POST {{baseUrl}}{{fnPrefix}}/create_complete_drug?p_name={{amoxicillinName}}&p_type=Generic&p_nature=Allopathic&p_commercialization=I&p_variations=[{"form_name":"Capsule","concentration":"500mg"},{"form_name":"Suspension","concentration":"250mg/5ml"}]&p_pathology_names={"Bacterial Infection","Pneumonia"}

### Error Test Cases ###

### Test 8: Try to create drug with invalid type
POST {{baseUrl}}{{fnPrefix}}/create_drug?p_id=550e8400-e29b-41d4-a716-446655440099&p_name=Invalid%20Drug&p_type=InvalidType&p_nature=Allopathic&p_commercialization=I

### Test 9: Try to create pharmaceutical with non-existent drug
POST {{baseUrl}}{{fnPrefix}}/create_pharmaceutical?p_id=660e8400-e29b-41d4-a716-446655440099&p_drug_id=550e8400-e29b-41d4-a716-446655440999&p_form_id={{tabletFormId}}&p_concentration=500mg

### Test 10: Create drug with missing required field
POST {{baseUrl}}{{fnPrefix}}/create_drug?p_id=550e8400-e29b-41d4-a716-446655440098&p_name=Invalid%20Drug&p_type=Generic&p_commercialization=I
